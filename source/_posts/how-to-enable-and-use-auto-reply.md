---
title: 如何开启并使用B站的自动回复功能
date: 2022-01-13 20:47:39
description: 其实每一位B站用户都可以开启自动回复功能
tags:
  - 自动回复
  - 技术
categories:
  - 知识
  - 野生技能协会
---
本文章使用网页版B站，为您介绍开启与使用B站的自动回复功能的方法。
![自动回复](/images/auto-reply.png)
<!-- more -->

## 开启自动回复功能
如果您的粉丝数在1000以上，请您直接查看“[通过网页开启自动回复功能](#%E9%80%9A%E8%BF%87%E7%BD%91%E9%A1%B5%E5%BC%80%E5%90%AF%E8%87%AA%E5%8A%A8%E5%9B%9E%E5%A4%8D%E5%8A%9F%E8%83%BD)”部分。
如果您的粉丝数在1000以下，请先按照“[通过API开启自动回复功能](#%E9%80%9A%E8%BF%87api%E5%BC%80%E5%90%AF%E8%87%AA%E5%8A%A8%E5%9B%9E%E5%A4%8D%E5%8A%9F%E8%83%BD)”部分操作，以在消息中心显示“自动回复”按钮。

### 通过API开启自动回复功能
由于B站的一些“漏洞”，您可以通过一些技术手段（就比如API）来开启B站的自动回复，并能正常使用自动回复功能。
在登录了B站账号的浏览器中，打开B站任意页面，按下F12键，在新打开的窗口上方选择“应用”，在左侧点击“存储”部分中“Cookie”左边的箭头，点击下面的B站网址，在右侧表格的“名称”一栏中找到“SESSDATA”与“bili_jct”，分别双击它们右边的“值”，复制下来。
![获取Cookie](/images/get-cookie.png)
打开命令行窗口（在Windows中按下Win＋R后输入`cmd`后回车，在Linux中按下Ctrl＋Alt＋T即可；在Mac中按下⌘＋空格键即可），输入命令`curl -b "SESSDATA=`{% label info@SESSDATA的值 %}`; bili_jct=`{% label primary@bili_jct的值 %}`;" -d "keys_reply=1&csrf=`{% label primary@bili_jct的值 %}`" "https://api.vc.bilibili.com/link_setting/v1/link_setting/set"`。
例：假如{% label info@SESSDATA的值 %}为`abcdef12%2C1678901234%2C56789*bc`，{% label primary@bili_jct的值 %}为`0123456789abcdef0123456789abcdef`，那么就输入命令：
```bash
$ curl -b "SESSDATA=abcdef12%2C1678901234%2C56789*bc; bili_jct=0123456789abcdef0123456789abcdef;" -d "keys_reply=1&csrf=0123456789abcdef0123456789abcdef" "https://api.vc.bilibili.com/link_setting/v1/link_setting/set"
```
您可能会看到下面的“代码”：
```json
{"code":0,"msg":"0","message":"0","ttl":1,"data":{}}
```
如果您看到的“代码”与上面一行的“代码”不同，那么自动回复功能可能开启失败，您可以私信wuziqian211来获取帮助。
{% note danger %}
**特别注意：请不要把您刚刚复制的“SESSDATA”与“bili_jct”的值告诉任何人！否则别人可能会利用这些来登录您的账号。**
{% endnote %}
{% note warning %}
您刚刚输入的命令里面的链接不能通过浏览器直接访问！直接访问是没有任何效果的。
{% endnote %}
{% note info %}
如果您无法看懂上面的内容，您可以向wuziqian211单独发私信，让wuziqian211来指导您一步步操作，或者让wuziqian211替您操作。
如果您对HTTP有深入的了解，上面的操作相当于带Cookie用POST方式提交数据`keys_reply=1&csrf=`{% label primary@bili_jct的值 %}到https://api.vc.bilibili.com/link_setting/v1/link_setting/set，如果服务器返回的JSON中“code”的值为0，那么就说明自动回复功能开启成功。
{% endnote %}
进入[消息中心](https://message.bilibili.com/)后，如果您看到页面左侧多了个按钮“自动回复”，就说明自动回复功能开启成功。
![“自动回复”按钮](/images/auto-reply-button.png)
{% note warning %}
1000粉丝以下的用户关闭了自动回复的所有功能后，刷新“消息中心”页面，“自动回复”按钮就会**消失**。
如果您不小心关闭了自动回复的所有功能，导致“自动回复”按钮消失，那么您可以再次执行上面的操作以重新开启自动回复功能。
{% endnote %}

### 通过网页开启自动回复功能
在登录了B站账号的浏览器中进入[消息中心](https://message.bilibili.com/)后，您可以看到，在页面的左侧有“自动回复”按钮。点击“自动回复”按钮，就可以进入“自动回复”页面。
在页面顶部，有“被关注回复”、“关键词回复”、“收到消息回复”选择夹，部分用户可能也有“大航海上船回复”选择夹。点击每个选择夹中功能的开关按钮，就可以开启对应的功能，并显示更多的信息。
![“自动回复”页面](/images/auto-reply-page.png)

## 使用自动回复功能
目前B站**只支持纯文字的自动回复（可以包含表情），不支持图片的自动回复**。其中，对每一个功能的介绍如下表：

| 功能 | 作用 |
| :--: | ---- |
| 被关注回复 | 当某用户**在当天首次**关注您时，会自动将您设置的私信内容回复给TA。 |
| 关键词回复 | 当用户给您发送私信时，如果该私信的内容命中您提前设定好的规则（**最多20个**）时，会自动将**首个**命中规则的对应内容回复给TA。<br />1. 规则名称：当前规则的名称，是为了让您区分不同的规则，最多30字。<br />2. 关键词：“精确匹配”和“模糊匹配”必须至少填写其中一项，每一项最多支持填写**20个**关键词，每个关键词用“，”隔开。<br />&emsp;①精确匹配：当用户的私信内容与“精确匹配”中某个关键词**完全相同**时，会自动回复。<br />&emsp;②模糊匹配：当用户的私信内容包含“模糊匹配”中某个关键词时，会自动回复。<br />3. 回复内容：回复用户的私信内容。 |
| 收到消息回复 | 当某用户**在当天首次**给您发送在“关键词回复”中未命中关键词的私信时（如果没有开启“关键词回复”，直接视为未命中关键词），会自动将您设置的私信内容回复给TA。 |
| 大航海上船回复（**仅部分用户**） | 当用户**首次**开通大航海时，会自动将您设置的私信内容回复给TA。 |

### 关键词回复例子
#### 例1
假如您设置了2个规则：

| 规则 | 精确匹配关键词 | 模糊匹配关键词 | 回复内容 |
| :--: | :------------: | :------------: | -------- |
| 规则1 | 哭 | | 我是不会哭的(=・ω・=) |
| 规则2 | | 哭 | 别哭了[tv_微笑]摸摸您(^・ω・^) |

那么当用户给您发“我哭了”时，会自动回复“别哭了[tv_微笑]摸摸您(^・ω・^)”，而不会回复“我是不会哭的(=・ω・=)”；给您发“哭”时，会自动回复“我是不会哭的(=・ω・=)”。因为规则1只有当用户的私信内容与精确匹配关键词“哭”完全相同时才会回复。

#### 例2
假如您设置了规则：

| 规则 | 精确匹配关键词 | 模糊匹配关键词 | 回复内容 |
| :--: | :------------: | :------------: | -------- |
| 规则3 | 谢谢，Thank you | 感谢 | 我也谢谢您对我的支持(=・ω・=) |

那么当用户给您发“谢谢”或“Thank you”时，会自动回复；给您发“谢谢您”时，不会回复任何内容；给您发“感谢您”时，会自动回复。

#### 例3
假如您设置了2个规则：

| 规则 | 精确匹配关键词 | 模糊匹配关键词 | 回复内容 |
| :--: | :------------: | :------------: | -------- |
| 规则4 | | 哭 | 别哭了[tv_微笑]摸摸您(^・ω・^) |
| 规则5 | | 不哭 | 感谢您对我的关心(^・ω・^) |

那么当用户给您发“不哭不哭”时，会自动回复“别哭了[tv_微笑]摸摸您(^・ω・^)”，而不会回复“感谢您对我的关心(^・ω・^)”，因为自动回复只会回复首个命中关键词“哭”的回复规则设置的回复。
